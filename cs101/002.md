# 费劲搞个虚拟机，不如上云

感觉听课听一半是不行的，还是得听tm的几节再动手。

## 背景

1. 经过一番折腾总算在parallel 虚拟机中使用了纯命令行环境
2. 然而老师下一句，就是教学远程连接，windows cmd 本地 连接上vmware 虚拟机，采用ssh，展示顺利到不行。
3. 对应来说，我就需要，mac 的zsh 终端采用ssh连接上parallel里的centos7，顿时汗如雨下，感觉前面路上都是地雷。

## 过程

总之就是一顿操作，最后上了腾讯云。

### mac无法连接上ssh

又是全程chatGPT

> 怎么验证，centos 是否安装了 openssh？
>
> ```bash
> //CentOS 7默认安装了OpenSSH服务器，但如果你的虚拟机上没有安装，你可以使用以下命令安装：
> sudo yum install openssh-server
> 
> //在终端中执行以下命令，它会列出所有已安装的软件包，并搜索OpenSSH：
> rpm -qa | grep openssh
> //可以使用systemctl命令检查OpenSSH服务的状态：
> systemctl status sshd
> ```

这个问题是突发的，但也因此得到了两个思路，好像都挺好用的，但是不再扩展了。

> mac的zsh 输入 `ssh username@centos_ip_address`的命令后，没有反应。怎么办？
>
> ```bash
> 
> 如果在输入SSH连接命令后没有反应，可能是由于以下一些原因导致的：
> 
> 网络问题：首先，请确保你的Mac和CentOS 7虚拟机在同一网络下，并且能够相互通信。你可以尝试使用ping命令验证两者之间的连通性。
> 
> 防火墙设置：在CentOS 7虚拟机上，防火墙可能会阻止SSH连接。你可以尝试暂时关闭防火墙来测试是否可以连接：
> sudo systemctl stop firewalld
> 
> SSH服务器未正确安装或未运行：确保在CentOS 7虚拟机上SSH服务器已经安装并且正在运行。你可以使用以下命令检查SSH服务器状态：
> sudo systemctl status sshd
> 
> 如果SSH服务器未运行，你可以使用以下命令启动它：
> sudo systemctl start sshd
> 
> SSH配置问题：检查CentOS 7虚拟机的SSH服务器配置文件/etc/ssh/sshd_config，确保SSH服务正在监听正确的IP地址和端口，并且没有其他配置问题。
> 
> SSH密钥问题：如果你在虚拟机上启用了SSH密钥认证，请确保你的Mac上的SSH密钥已经被添加到CentOS 7虚拟机的~/.ssh/authorized_keys文件中。
> 
> 如果上述步骤都没有解决问题，你可以尝试使用-vvv选项来增加SSH连接的调试输出，以便更详细地了解连接失败的原因：
> 
> ssh -vvv username@centos_ip_address
> 通过检查输出，你可能会找到有关连接失败的更多信息，并且可以进一步调试和解决问题。
> ```

### 开始check 

直接`-vvv` ，拿着得出的反馈接着喂给chatGPT，然后chatGPT：

> ```bash
> 从你提供的调试输出来看，SSH客户端尝试连接到IP地址为*********的主机（这可能是你的虚拟机的默认网关或者某个相关的设备）。然而，你之前提到的CentOS 7虚拟机的IP地址似乎不是这个地址。
> 
> 请确保你在SSH命令中使用了正确的CentOS 7虚拟机的IP地址。你可以再次执行 ip addr show 来确认CentOS 7虚拟机的实际IP地址，并且使用该地址进行SSH连接。
> 
> 另外，确保虚拟机网络设置正确，可以被本地网络访问到。你可以在虚拟机设置中检查网络配置，确保网络适配器设置为桥接模式或者NAT模式（根据你的需求选择）。
> ```

陷入了僵局，然后老师一句“要习惯哈，正常上班都是用远程的云，所以没必要在虚拟机里面继续学习啦。”，我思路打开，还是得搞云

### 上云之路

1. 首先是检查自己的账户，那有钱啊，腾讯云上次玩stable diffusion， 还剩200呢。

2. 然后是考虑有没有办法省钱？毕竟都是临近春节了。于是上v2ex 查看[云计算](https://v2ex.com/go/cloud) 节点，幸亏我多年保持时不时上去看一眼的习惯，知道这里经常会有各种云服务器相关的aff link。

3. 然后给我知道了[118元搞一年的轻量服务器](https://cloud.tencent.com/act/pro/bestselling) ，这还不买上，一天3毛。

4. 查看怎么使用，因为还是得想办法用上本地的ssh来连接这个云服务器，才比较能够用上。

5. 直接询问服务台右下角的**文档按钮**查询，关键词**ssh 连接**，喜提第一篇guide:

   [使用 SSH 登录 Linux 实例](https://cloud.tencent.com/document/product/1207/44643) :本文介绍如何在 Linux、Mac OS 或者 Windows 系统的本地计算机中通过 SSH 登录 Linux 轻量应用服务器实例。
   
6. 重置密码 → mac 远程 ssh登录成功

# 总结

花钱就可以变强，哈哈哈。后续就挺方便的。所以自由之路还是得点计算机技术，不然太没选择权了。

稍微有点不同的是，云上系统只是给了一些选项，centos8.4 是我的选择，这一点和教程的不一样，感觉隐隐约约又给自己埋了一点坑......



**个人感悟**
在chatGPT问世以前，可能路径是：

- 小白：bilibili搜视频教程，有可能听一些不相关的内容。
- 中白：搜索引擎检索，可能会被导向和官方文档库没关系的各种经验贴
- 老白：果断去官方的文档检索关键词，一般查看2-3篇可以获得。

对于腾讯云这种技术产品且大厂技术支持，doc的优化，怎么帮到用户，怎么做好服务，简直不要太擅长。而比较 冷门/新 的技术产品，又有一定的门槛，其实采用大语言模型训练一个小精灵，用来问各种问题，可能性价比更好。反过来用户会提什么问题也会进一步优化该团队的产品。

大厂可以养一些啥也不干就研究怎么把文章写得又好读又好传播，普通小产品这么搞只能寄希望于小团队有这种多面手了。

换句话说，如果有一家公司，专门研究大模型落地帮助企业优化 客服，文档查询，可以说是不错的掘金点，但是B端企业大概率就要裁人或者要求原本的客服转岗了。

