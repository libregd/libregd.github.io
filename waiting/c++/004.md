# basic of c++

- [ ] Operators

## `=` 不是等于是什么？

assignment，赋值，分配。

```c++
#include <iostream>
using namespace std;

int main ()
{
	int a, b;         // a:?,  b:?
	a = 10;           // a:10, b:?
	b = 4;            // a:10, b:4
	a = b;            // a:4,  b:4
	b = 7;            // a:4,  b:7
	
	cout << "a:";
	cout << a <<endl;
	cout << "b:";
	cout << b;
}
```

**练习**

```c++
// y 是多少？
#include <iostream>
using namespace std;

int main ()
{

	int y ,x;
	x = 3;
	y = 5 + ( x = 1 );
	cout << y;
}
```

```c++
// x,y,z 分别是多少？
#include <iostream>
using namespace std;

int main ()
{
	int x,y,z;
	x = y = z = 5;
	cout<< x<< "\t" << y << "\t" << z << endl; 
}
```

## 算术操作 

用法和数学类似，怕层级分不清就上`( )` 括号。`+, -, *, /, %` 

| operator | description |
| :------- | :---------- |
| `+`      | 正          |
| `-`      | 负          |
| `*`      | 乘          |
| `/`      | 除以        |
| `%`      | 取余 / 模   |

## 复合赋值运算符

可以理解成表达式的缩写。`+=, -=, *=, /=, %=, >>=, <<=, &=, ^=, |=`

| 表达式                | 等价于                       |
| :-------------------- | :--------------------------- |
| `y += x;`             | `y = y + x;`                 |
| `x -= 5;`             | `x = x - 5;`                 |
| `x /= y;`             | `x = x / y;`                 |
| `price *= units + 1;` | `price = price * (units+1);` |

## 自增/减 运算符

部分表达式进一步缩写。`++, --`

```c++
#include <iostream>
using namespace std;

int main ()
{
	int x = 0;
	++x;
	cout << x << "\n"; 
	x+=1;
	cout << x << "\n"; 
	x=x+1;
	cout << x << "\n"; 
    //三个式子等价
}
```

**++x 和 x++ 有什么区别？**

```c++
	int y;
	int x = 5;
	y = ++x;
	cout << y << "\n"; //6
	cout << x << "\n"; //6
```

```c++
	int y;
	int x = 5;
	y = x++;
	cout << y << "\n"; //5
	cout << x << "\n"; //6
```

## 比较运算符

可以比较运算符比较表达式，比较的结果一般为bool值，也就是真或者假。`==, !=, >, <, >=, <=`

| 运算符 | 功能     |
| :----- | :------- |
| `>`    | 大于     |
| `>=`   | 大于等于 |
| `<`    | 小于     |
| `<=`   | 小于等于 |
| `==`   | 等于     |
| `!=`   | 不等于   |

**练习**：请在注释后补上运行结果

```c++
(7 == 5)     //
(5 > 4)      // 
(3 != 2)     //
(6 >= 6)     // 
(5 < 5)      // 
```

```c++
 int a=2, b=3, c=6;
(a == 5)     // 
(a*b >= c)   // 
(b+4 > a*c)  // 
((b=2) == a) // 
```

## 逻辑运算符

逻辑运算的最后结果一般返回 bool ，true or false。` !, &&, || `

**! ( NOT、非)**

```C++
!(5 == 5)   // 
!(6 <= 4)   //
!true       // 
!false      // 
```

**&& (and 、 与)**

| `a`     | `b`     | `a && b` |
| :------ | :------ | :------- |
| `true`  | `true`  | `true`   |
| `true`  | `false` | `false`  |
| `false` | `true`  | `false`  |
| `false` | `false` | `false`  |

**|| （or、或）**

| `a`     | `b`     | `a || b` |
| :------ | :------ | :------- |
| `true`  | `true`  | `true`   |
| `true`  | `false` | `true`   |
| `false` | `true`  | `true`   |
| `false` | `false` | `false`  |

```C++
( (5 == 5) && (3 > 6) )  //
( (5 == 5) || (3 > 6) )  // 
```

## 条件运算符

如果满足condition，则返回 result 1，否者返回 result 2。

```c++
condition ? result1 : result2
```

```c++
7==5 ? 4 : 3     // 3
7==5+2 ? 4 : 3   // 4
5>3 ? a : b      // a
a>b ? a : b      // 
```

```c++
#include <iostream>
using namespace std;

int main ()
{
  int a,b,c;

  a=2;
  b=7;
  c = (a>b) ? a : b;

  cout << c << '\n';
}
```

## 逗号运算符

逗号运算符可将多个表达式分隔开来，被分隔开的表达式按从左至右的顺序依次计算，整个表达式的值是最后的表达式的值。

```c++
Result = 1 + 2, 3 + 4, 5 + 6; //
Result = (1 + 2, 3 + 4, 5 + 6); //
```

## 位运算符

位运算就是基于整数的二进制表示进行的运算。由于计算机内部就是以二进制来存储数据，位运算是相当快的。

| 运算符 |       | 功能     |
| :----- | :---- | :------- |
| `&`    | `AND` | 逐位与   |
| `|`    | `OR`  | 逐位或   |
| `^`    | `XOR` | 逐位异或 |
| `~`    | `NOT` | 逐位非   |
| `<<`   | `SHL` | 逐位左移 |
| `>>`   | `SHR` | 逐位右移 |

## 成员访问运算符

这些运算符用来访问对象的成员或者内存，后面学习中再深入。

| 运算符       | 功能            |
| :----------- | :-------------- |
| `[]`         | 数组下标        |
| `.`          | 对象成员        |
| `&` （单目） | 取地址/获取引用 |
| `*` （单目） | 间接寻址/解引用 |
| `->`         | 指针成员        |



## C++ 运算符优先级表

|             运算符              |        描述        |                            例子                            |
| :-----------------------------: | :----------------: | :--------------------------------------------------------: |
|          **第一级别**           |                    |                                                            |
|              `::`               |    作用域解析符    |                     `Class::age = 2;`                      |
|          **第二级别**           |                    |                                                            |
|              `++`               |    后自增运算符    |         `for (int i = 0; i < 10; i++) cout << i;`          |
|              `--`               |    后自减运算符    |         `for (int i = 10; i > 0; i--) cout << i;`          |
|         `type() type{}`         |    强制类型转换    |             `unsigned int a = unsigned(3.14);`             |
|              `()`               |      函数调用      |                       `isdigit('1')`                       |
|              `[]`               |    数组数据获取    |                      `array[4] = 2;`                       |
|               `.`               |   对象型成员调用   |                      `obj.age = 34;`                       |
|              `->`               |   指针型成员调用   |                      `ptr->age = 34;`                      |
|  **第三级别** （从右向左结合）  |                    |                                                            |
|              `++`               |    前自增运算符    |           `for (i = 0; i < 10; ++i) cout << i;`            |
|              `--`               |    前自减运算符    |           `for (i = 10; i > 0; --i) cout << i;`            |
|               `+`               |        正号        |                       `int i = +1;`                        |
|               `-`               |        负号        |                       `int i = -1;`                        |
|               `!`               |      逻辑取反      |                       `if (!done) …`                       |
|               `~`               |      按位取反      |                     `flags = ~flags;`                      |
|            `(type)`             | C 风格强制类型转换 |                 `int i = (int) floatNum;`                  |
|               `*`               |      指针取值      |                   `int data = *intPtr;`                    |
|               `&`               |      值取指针      |                   `int *intPtr = &data;`                   |
|            `sizeof`             |    返回类型内存    |  `int size = sizeof floatNum; int size = sizeof(float);`   |
|              `new`              |  动态元素内存分配  | `long *pVar = new long; MyClass *ptr = new MyClass(args);` |
|            `new []`             |  动态数组内存分配  |                `long *array = new long[n];`                |
|            `delete`             |  动态析构元素内存  |                       `delete pVar;`                       |
|           `delete []`           |  动态析构数组内存  |                     `delete [] array;`                     |
|          **第四级别**           |                    |                                                            |
|              `.*`               |   类对象成员引用   |                      `obj.*var = 24;`                      |
|              `->*`              |   类指针成员引用   |                     `ptr->*var = 24;`                      |
|          **第五级别**           |                    |                                                            |
|               `*`               |        乘法        |                      `int i = 2 * 4;`                      |
|               `/`               |        除法        |                  `float f = 10.0 / 3.0;`                   |
|               `%`               |  取余数（模运算）  |                     `int rem = 4 % 3;`                     |
|          **第六级别**           |                    |                                                            |
|               `+`               |        加法        |                      `int i = 2 + 3;`                      |
|               `-`               |        减法        |                      `int i = 5 - 1;`                      |
|          **第七级别**           |                    |                                                            |
|              `<<`               |       位左移       |                   `int flags = 33 << 1;`                   |
|              `>>`               |       位右移       |                   `int flags = 33 >> 1;`                   |
|          **第八级别**           |                    |                                                            |
|              `<=>`              |   三路比较运算符   |                 `if ((i <=> 42) < 0) ...`                  |
|          **第九级别**           |                    |                                                            |
|               `<`               |        小于        |                     `if (i < 42) ...`                      |
|              `<=`               |      小于等于      |                     `if (i <= 42) ...`                     |
|               `>`               |        大于        |                     `if (i > 42) ...`                      |
|              `>=`               |      大于等于      |                     `if (i >= 42) ...`                     |
|          **第十级别**           |                    |                                                            |
|              `==`               |        等于        |                     `if (i == 42) ...`                     |
|              `!=`               |       不等于       |                     `if (i != 42) ...`                     |
|         **第十一级别**          |                    |                                                            |
|               `&`               |      位与运算      |                   `flags = flags & 42;`                    |
|         **第十二级别**          |                    |                                                            |
|               `^`               |     位异或运算     |                   `flags = flags ^ 42;`                    |
|         **第十三级别**          |                    |                                                            |
|               `|`               |      位或运算      |                   `flags = flags | 42;`                    |
|         **第十四级别**          |                    |                                                            |
|              `&&`               |     逻辑与运算     |            `if (conditionA && conditionB) ...`             |
| **第十五级别** （从右向左结合） |                    |                                                            |
|              `||`               |     逻辑或运算     |            `if (conditionA || conditionB) ...`             |
| **第十六级别** （从右向左结合） |                    |                                                            |
|              `? :`              |     条件运算符     |                  `int i = a > b ? a : b;`                  |
|             `throw`             |      异常抛出      |                 `throw EClass("Message");`                 |
|               `=`               |        赋值        |                        `int a = b;`                        |
|              `+=`               |     加赋值运算     |                         `a += 3;`                          |
|              `-=`               |     减赋值运算     |                         `b -= 4;`                          |
|              `*=`               |     乘赋值运算     |                         `a *= 5;`                          |
|              `/=`               |     除赋值运算     |                         `a /= 2;`                          |
|              `%=`               |     模赋值运算     |                         `a %= 3;`                          |
|              `<<=`              |   位左移赋值运算   |                       `flags <<= 2;`                       |
|              `>>=`              |   位右移赋值运算   |                       `flags >>= 2;`                       |
|              `&=`               |    位与赋值运算    |                   `flags &= new_flags;`                    |
|              `^=`               |   位异或赋值运算   |                   `flags ^= new_flags;`                    |
|              `|=`               |    位或赋值运算    |                   `flags |= new_flags;`                    |
|         **第十七级别**          |                    |                                                            |
|               `,`               |     逗号分隔符     |         `for (i = 0, j = 0; i < 10; i++, j++) ...`         |

